(()=>{"use strict";class e{constructor({parent:e,text:t}={}){this.element=null,this.els={btn:null,textAnimation:null,textWrap:null,text:null},this.isSpolerHidden=!0,this.init(e,t)}init(e,t){let i=document.createElement("div");i.insertAdjacentHTML("afterbegin",'<div class="widget-collapse"> <button class="widget-collapse__button">Collapse</button> <div class="widget-collapse__text-animation"> <div class="widget-collapse__text-wrap"> <p class="widget-collapse__text">Если в качесте параметра в конструктор передать селектор или элемент, то виджет по умолчанию будет добавлен в конец этого элемента через append. Если виджет нужно добавить не в конец элемента, то можно это сделать вручную, используя свойство виджета element.</p> </div> </div> </div> '),this.element=i.querySelector(".widget-collapse"),i=null,this.els.btn=this.element.querySelector(".widget-collapse__button"),this.els.btn.addEventListener("click",this.onBtnClick.bind(this)),this.els.textAnimation=this.element.querySelector(".widget-collapse__text-animation"),this.els.textWrap=this.element.querySelector(".widget-collapse__text-wrap"),this.els.text=this.element.querySelector(".widget-collapse__text"),this.setText(t),e&&(this.parentEl="string"==typeof e?document.querySelector(e):e,this.parentEl.append(this.element))}onBtnClick(){this.isSpolerHidden?(this.isSpolerHidden=!1,this.els.textAnimation.style.height=`${this.els.textWrap.offsetHeight}px`):(this.isSpolerHidden=!0,this.els.textAnimation.style.height="0")}setText(e){void 0!==e&&(this.els.text.textContent=e)}}const t=document.querySelector(".content"),i=new e;t.prepend(i.element);new e({parent:".content"}).setText("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae inventore mollitia nesciunt non quos! Accusantium aperiam assumenda eaque impedit, in laborum libero nobis recusandae rem sunt totam, vel, vitae voluptate!")})();